Al principio, arranque el proyecto escribiendo el codigo de forma directa, enfocandome en que el jugador pudiera saltar y esquivar obstaculos. Aunque esto me dio una idea inicial de como funcionaria el juego, pronto note que el codigo se hacia dificil de manejar sin una estructura clara. Decidi detenerme y dedicar tiempo a crear un diagrama de clases antes de seguir avanzando. Esto me permitio visualizar mejor las clases y relaciones en el juego, lo que a su vez facilito identificar atributos y metodos que se repetian en varias partes, como las coordenadas de posicion y el tamaño de los objetos. Me di cuenta de que estructurar estos atributos compartidos en una sola clase base podria simplificar mucho el codigo y hacerlo mas ordenado y facil de ajustar.

A partir del diagrama, primero puse atributos por separado en la clase obstaculo y jugador pero luego decidi crear una clase base llamada GameObject, que almacena atributos comunes como la posicion (x, y) y el tamaño (width, height), atributos que tanto el jugador como el obstaculo iban a necesitar. Este cambio me ayudo a reducir la duplicacion de codigo y dio una estructura mucho mas clara. Gracias a GameObject, tanto Player como Obstacle heredan ahora los atributos basicos y solo se enfocan en sus caracteristicas unicas, como vel_y para el jugador y vel_x para el obstaculo.

El siguiente paso fue transformar el codigo en programacion orientada a objetos. Defini las estructuras para Player y Obstacle, ambas derivadas de GameObject. Agregue los atributos especificos y metodos de cada una, lo que dio mejor claridad al codigo, ya que ahora podia ver las funciones de cada objeto claramente definidas. Despues, implemente funciones para inicializar la ventana, procesar la entrada (para que el jugador pudiera saltar al presionar espacio) y actualizar las posiciones de los objetos en la pantalla. Al final del juego, agregue una funcion para destruir la ventana y liberar memoria, lo que asegura que los recursos no se queden activos despues de cerrar el programa.

En el camino, me encontre con varios problemas, uno de los cuales fue la variable global game_is_running, la cual controla el ciclo del juego. Al dividir el codigo en multiples archivos, game_is_running no estaba siendo reconocida en todos los archivos, causando errores de compilacion. Esto me obligo a revisar la estructura de los archivos y la ubicacion de las variables globales para asegurarme de que fueran accesibles en las funciones correctas. Este cambio soluciono el problema de compilacion, aunque fue un reto entender como gestionar variables globales en un proyecto modular.

Tambien tuve un problema con el renderizado. Al principio, aunque la ventana del juego aparecia, los objetos no se dibujaban y la pantalla permanecia en negro. Tras revisar el flujo de renderizado, me di cuenta de que los colores y posiciones de los objetos no estaban siendo actualizados adecuadamente. Despues de varias pruebas y ajustes en la configuracion del renderizado, logre que el jugador y el obstaculo se mostraran correctamente en pantalla y pude verificar que la interaccion entre el jugador y el entorno funcionaba como esperaba.

Otro reto surgio con la logica de los saltos del jugador y la gravedad. Inicialmente, el jugador quedaba "flotando" al saltar, lo que se debia a una falta de control claro entre el estado de salto y el estado en el suelo. Tras revisar las condiciones de control del salto, ajuste el codigo para que el atributo is_jumping se activara solo mientras el jugador estuviera en el aire y se desactivara al tocar el suelo. Esto mejoro mucho el flujo del juego, haciendo los saltos mas fluidos y realistas.

Pasar a programacion orientada a objetos y organizar el codigo correctamente fue un paso fundamental. La clase base GameObject facilito la creacion de clases especificas sin duplicar atributos y simplifico el mantenimiento del codigo. Los problemas que surgieron en el camino me ayudaron a aprender a manejar variables globales en un entorno de varios archivos y a lidiar con errores de compilacion al trabajar con modulos separados. Ahora el codigo es mucho mas ordenado y flexible para futuras mejoras y modificaciones.